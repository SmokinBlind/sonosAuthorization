<html>
    <head>
        <script>
            function doRedirect() {
                const params = window.location.search;
                const urlParams = new URLSearchParams(params);
                const coreAddress = urlParams.get('coreAddress');
                const sonosAuth = urlParams.get('sonosAuth');
                const sonosRedirect = urlParams.get('redirect_uri');
                if (sonosRedirect != null && sonosRedirect > 0) { 
                    //(coreAddress != null && coreAddress.length > 0) {
                    // Set text.;
                    // setTimeout(function(){document.getElementById('message').innerHTML = "Redirecting."; }, 1500);
                    setTimeout(function(){window.location.replace(urlParams.get('redirect_uri') + params); }, 2000);
                } else if (coreAddress != null && coreAddress.length > 0) {
                //(sonosAuth != null && sonosAuth.length > 0) {
                    console.log(urlParams.get('coreAddress') + params);
                    document.write(urlParams.get('coreAddress') + params);
                    setTimeout(function(){window.location.replace(urlParams.get('coreAddress') + params); }, 2000); 
                }
            }
            document.addEventListener('DOMContentLoaded', doRedirect);
        </script>
    </head>
</html>